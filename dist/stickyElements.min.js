var StickyElements=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var o=n(1);n(2);var i={createContainer:function(t){var e=document.createElement("div"),n=window.getComputedStyle(t,null);e.classList.add("sticky-element-container"),e.style.height=n.getPropertyValue("height"),e.style.width=n.getPropertyValue("width"),e.style.position="relative",t.parentNode.insertBefore(e,t),e.appendChild(t)},setDimensions:function(t,e){t.style.height="",t.style.width="";var n=window.getComputedStyle(t,null);t.parentNode.style.height=n.getPropertyValue("height"),t.parentNode.style.width=n.getPropertyValue("width"),e&&(t.style.height=e+"px")},setAllEnds:function(){this.config.elements.forEach(function(t){if("element"===t.type){t.value=document.querySelector(t[t.type]).getBoundingClientRect().y+window.scrollY,t.pvalue=t.parent.getBoundingClientRect().y+window.scrollY;var e=t.value-t.pvalue;t.parent.style.height=e+"px"}})},scrollEndHandler:function(t){this.setAllEnds()},reszieEndHandler:function(t){clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(function(){this.setAllEnds()}.bind(this),1e3)},scrollTimeoutHandler:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=this;0===this.config.elements.length&&window.removeEventListener("scroll",scrollTimeoutHandler,!1),this.config.elements.forEach(function(t){var n=t.target,o=t.type,i=t.top;"timeout"===o&&(n.parentNode.getBoundingClientRect().y+window.scrollY-i<=window.scrollY?e.stickElement(t):n.classList.contains("is-stuck")&&e.unstickElement(t))})}),stickElement:function(t){var e=t.target,n=t.top,o=t.value,i=window.getComputedStyle(e.parentNode,null);e.style.width=i.getPropertyValue("width"),e.style.top=n+"px",e.style.position="fixed",e.style.zIndex="10000",e.classList.add("is-stuck"),t.expire||(t.expire=setTimeout(function(){this.unstickElement(t),this.removeStickyElement(t)}.bind(this),o))},unstickElement:function(t){var e=t.target,n=t.oTop,o=t.oPos,i=t.oZI;e.style.top=n,e.style.position=o,e.style.zIndex=i,e.classList.remove("is-stuck")},removeStickyElement:function(t){var e=this;this.config.elements.forEach(function(n){e.config.elements=e.config.elements.filter(function(e){return e!==t})})},checkMediaQueries:function(t){var e=this;t.forEach(function(t){t.media_query&&window.matchMedia(t.media_query).matches&&e.removeStickyElement(t)})},init:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=Object.assign({},{},e),this.checkMediaQueries(this.config.elements),this.config.elements.forEach(function(e){var n=e.sticky_selector,i=e.type,r=e.top;if(e.target=document.querySelector(n),e.target){e.parent=e.target.parentElement,e.value="element"===i?document.querySelector(e[i]).getBoundingClientRect().y+window.scrollY:e[i],e.pvalue=e.parent.getBoundingClientRect().y+window.scrollY;var s=e.target,c=e.parent,a=e.value,l=e.pvalue;switch(s.classList.add("sticky-element"),i){case"offset":case"element":t.createContainer(c);var u=a-l;c.style.height=u+"px",c.style.pointerEvents="none",Array.from(c.querySelectorAll("*")).forEach(function(t){return t.style.pointerEvents="initial"}),s.style.top=r+"px",s.style.position="-webkit-sticky",s.style.position="sticky",document.body.style.overflow="visible",s.classList.add("sticky-events"),s.addEventListener(o.StickyEvent.STUCK,function(t){Array.from(document.querySelectorAll(".sticky-events--sentinel")).forEach(function(t){return t.style.position="absolute"}),t.target.offsetHeight>0&&t.target.classList.add("is-stuck")}),s.addEventListener(o.StickyEvent.UNSTUCK,function(t){t.target.classList.remove("is-stuck")});break;case"timeout":t.createContainer(s),e.oPos=s.style.position,e.oTop=s.style.top,e.oZI=s.style.zIndex,window.addEventListener("scroll",t.scrollTimeoutHandler.bind(t),!1);break;default:console.log("Invalid type specified.")}s.style.zIndex="10000",s.style.width="100%"}}),(0,o.observeStickyEvents)(),window.addEventListener("scroll",this.scrollEndHandler.bind(this),!1),window.addEventListener("resize",this.reszieEndHandler.bind(this),!1),window.addEventListener("load",function(){window.removeEventListener("scroll",this.scrollEndHandler.bind(this),!1)}.bind(this))}},r=new CustomEvent("sticky-element:load");document.dispatchEvent(r),t.exports=i},function(t,e,n){"use strict";var o,i,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,c){"object"==s(e)&&void 0!==t?c(e):(i=[e],void 0===(r="function"==typeof(o=c)?o.apply(e,i):o)||(t.exports=r))}(0,function(t){var e={CHANGE:"sticky-change",STUCK:"sticky-stuck",UNSTUCK:"sticky-unstuck"},n={SENTINEL:"sticky-events--sentinel",SENTINEL_TOP:"sticky-events--sentinel-top",SENTINEL_BOTTOM:"sticky-events--sentinel-bottom"},o=".sticky-events";function i(t,n){n.dispatchEvent(new CustomEvent(e.CHANGE,{detail:{isSticky:t}})),n.dispatchEvent(new CustomEvent(t?e.STUCK:e.UNSTUCK))}function r(t,e){return Array.from(t.querySelectorAll(o)).map(function(t){var o=document.createElement("div"),i=t.parentElement;switch(o.classList.add(n.SENTINEL,e),e){case n.SENTINEL_TOP:i.insertBefore(o,t),Object.assign(o.style,s(t,o,e));break;case n.SENTINEL_BOTTOM:i.appendChild(o),Object.assign(o.style,s(t,o,e))}return o})}function s(t,e,o){var i=window.getComputedStyle(t),r=window.getComputedStyle(t.parentElement);switch(o){case n.SENTINEL_TOP:return{top:"calc("+i.getPropertyValue("top")+" * -1)",height:0};case n.SENTINEL_BOTTOM:var s=parseInt(r.paddingTop);return{bottom:i.top,height:t.getBoundingClientRect().height+s+"px"}}}t.StickyEvent=e,t.observeStickyEvents=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;window.self===window.top?window.requestAnimationFrame(function(){var e,s,c,a;e=t,s=new IntersectionObserver(function(t){t.forEach(function(t){var e=t.boundingClientRect,n=t.rootBounds,r=t.target.parentElement,s=r.querySelector(o);r.style.position="relative",e.bottom>=n.top&&e.bottom<n.bottom?i(!1,s):e.bottom<n.top&&i(!0,s)})},Object.assign({threshold:[0]},!(e instanceof HTMLDocument)&&{root:e})),r(e,n.SENTINEL_TOP).forEach(function(t){return s.observe(t)}),c=t,a=new IntersectionObserver(function(t){t.forEach(function(t){var e,n,r,s,c=t.boundingClientRect,a=t.rootBounds,l=t.target.parentElement.querySelector(o);c.top<a.top&&c.bottom<a.bottom?i(!1,l):c.bottom>a.top&&(n=(e=l).previousElementSibling,r=e.getBoundingClientRect().top,s=n.getBoundingClientRect().top,Math.round(Math.abs(r-s))!==Math.abs(parseInt(window.getComputedStyle(n).getPropertyValue("top"))))&&i(!0,l)})},Object.assign({threshold:[1]},!(c instanceof HTMLDocument)&&{root:c})),r(c,n.SENTINEL_BOTTOM).forEach(function(t){return a.observe(t)})}):console.warn("StickyEvents: There are issues with using IntersectionObservers in an iframe, canceling initialization. Please see https://github.com/w3c/IntersectionObserver/issues/183")},Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";!function(t,e){if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var r=i.element,s=a(r),c=this._rootContainsTarget(r),l=i.entry,u=e&&c&&this._computeTargetAndRootIntersection(r,n),h=i.entry=new o({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n,intersectionRect:u});l?e&&c?this._hasCrossedThreshold(l,h)&&this._queuedEntries.push(h):l&&l.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=t.getComputedStyle(n).display){for(var i=a(n),r=u(n),s=!1;!s;){var l=null,h=1==r.nodeType?t.getComputedStyle(r):{};if("none"==h.display)return;if(r==this.root||r==e?(s=!0,l=o):r!=e.body&&r!=e.documentElement&&"visible"!=h.overflow&&(l=a(r)),l&&!(i=c(l,i)))break;r=u(r)}return i}},i.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},i.prototype._rootIsInDom=function(){return!this.root||l(e,this.root)},i.prototype._rootContainsTarget=function(t){return l(this.root||e,t)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=o}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function i(t,e){var n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,e){var n=null;return function(){n||(n=setTimeout(function(){t(),n=null},e))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t,e){var n=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom),i=Math.max(t.left,e.left),r=Math.min(t.right,e.right),s=r-i,c=o-n;return s>=0&&c>=0&&{top:n,bottom:o,left:i,right:r,width:s,height:c}}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(t,e){for(var n=e;n;){if(n==t)return!0;n=u(n)}return!1}function u(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)}]);
//# sourceMappingURL=stickyElements.min.js.map